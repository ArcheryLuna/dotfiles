(()=>{"use strict";var e,r={d:(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e,r){void 0===r&&(r=!1);var t=e.length,n=0,f="",c=0,s=16,u=0,l=0,h=0,g=0,d=0;function p(r,t){for(var o=0,a=0;o<r||!t;){var i=e.charCodeAt(n);if(i>=48&&i<=57)a=16*a+i-48;else if(i>=65&&i<=70)a=16*a+i-65+10;else{if(!(i>=97&&i<=102))break;a=16*a+i-97+10}n++,o++}return o<r&&(a=-1),a}function v(){if(f="",d=0,c=n,l=u,g=h,n>=t)return c=t,s=17;var r=e.charCodeAt(n);if(o(r)){do{n++,f+=String.fromCharCode(r),r=e.charCodeAt(n)}while(o(r));return s=15}if(a(r))return n++,f+=String.fromCharCode(r),13===r&&10===e.charCodeAt(n)&&(n++,f+="\n"),u++,h=n,s=14;switch(r){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,f=function(){for(var r="",o=n;;){if(n>=t){r+=e.substring(o,n),d=2;break}var i=e.charCodeAt(n);if(34===i){r+=e.substring(o,n),n++;break}if(92!==i){if(i>=0&&i<=31){if(a(i)){r+=e.substring(o,n),d=2;break}d=6}n++}else{if(r+=e.substring(o,n),++n>=t){d=2;break}switch(e.charCodeAt(n++)){case 34:r+='"';break;case 92:r+="\\";break;case 47:r+="/";break;case 98:r+="\b";break;case 102:r+="\f";break;case 110:r+="\n";break;case 114:r+="\r";break;case 116:r+="\t";break;case 117:var f=p(4,!0);f>=0?r+=String.fromCharCode(f):d=4;break;default:d=5}o=n}}return r}(),s=10;case 47:var v=n-1;if(47===e.charCodeAt(n+1)){for(n+=2;n<t&&!a(e.charCodeAt(n));)n++;return f=e.substring(v,n),s=12}if(42===e.charCodeAt(n+1)){n+=2;for(var y=t-1,k=!1;n<y;){var A=e.charCodeAt(n);if(42===A&&47===e.charCodeAt(n+1)){n+=2,k=!0;break}n++,a(A)&&(13===A&&10===e.charCodeAt(n)&&n++,u++,h=n)}return k||(n++,d=1),f=e.substring(v,n),s=13}return f+=String.fromCharCode(r),n++,s=16;case 45:if(f+=String.fromCharCode(r),++n===t||!i(e.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return f+=function(){var r=n;if(48===e.charCodeAt(n))n++;else for(n++;n<e.length&&i(e.charCodeAt(n));)n++;if(n<e.length&&46===e.charCodeAt(n)){if(!(++n<e.length&&i(e.charCodeAt(n))))return d=3,e.substring(r,n);for(n++;n<e.length&&i(e.charCodeAt(n));)n++}var t=n;if(n<e.length&&(69===e.charCodeAt(n)||101===e.charCodeAt(n)))if((++n<e.length&&43===e.charCodeAt(n)||45===e.charCodeAt(n))&&n++,n<e.length&&i(e.charCodeAt(n))){for(n++;n<e.length&&i(e.charCodeAt(n));)n++;t=n}else d=3;return e.substring(r,t)}(),s=11;default:for(;n<t&&b(r);)n++,r=e.charCodeAt(n);if(c!==n){switch(f=e.substring(c,n)){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return f+=String.fromCharCode(r),n++,s=16}}function b(e){if(o(e)||a(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){n=e,f="",c=0,s=16,d=0},getPosition:function(){return n},scan:r?function(){var e;do{e=v()}while(e>=12&&e<=15);return e}:v,getToken:function(){return s},getTokenValue:function(){return f},getTokenOffset:function(){return c},getTokenLength:function(){return n-c},getTokenStartLine:function(){return l},getTokenStartCharacter:function(){return c-g},getTokenError:function(){return d}}}function o(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function a(e){return 10===e||13===e||8232===e||8233===e}function i(e){return e>=48&&e<=57}function f(e,r,t){var o,a,i,f,u;if(r){for(f=r.offset,u=f+r.length,i=f;i>0&&!s(e,i-1);)i--;for(var l=u;l<e.length&&!s(e,l);)l++;a=e.substring(i,l),o=function(e,r){for(var t=0,n=0,o=r.tabSize||4;t<e.length;){var a=e.charAt(t);if(" "===a)n++;else{if("\t"!==a)break;n+=o}t++}return Math.floor(n/o)}(a,t)}else a=e,o=0,i=0,f=0,u=e.length;var h,g=function(e,r){for(var t=0;t<r.length;t++){var n=r.charAt(t);if("\r"===n)return t+1<r.length&&"\n"===r.charAt(t+1)?"\r\n":"\r";if("\n"===n)return"\n"}return e&&e.eol||"\n"}(t,e),d=!1,p=0;h=t.insertSpaces?c(" ",t.tabSize||4):"\t";var v=n(a,!1),b=!1;function y(){return g+c(h,o+p)}function k(){var e=v.scan();for(d=!1;15===e||14===e;)d=d||14===e,e=v.scan();return b=16===e||0!==v.getTokenError(),e}var A=[];function C(r,t,n){!b&&t<u&&n>f&&e.substring(t,n)!==r&&A.push({offset:t,length:n-t,content:r})}var T=k();if(17!==T){var m=v.getTokenOffset()+i;C(c(h,o),i,m)}for(;17!==T;){for(var O=v.getTokenOffset()+v.getTokenLength()+i,w=k(),E="";!d&&(12===w||13===w);)C(" ",O,v.getTokenOffset()+i),O=v.getTokenOffset()+v.getTokenLength()+i,E=12===w?y():"",w=k();if(2===w)1!==T&&(p--,E=y());else if(4===w)3!==T&&(p--,E=y());else{switch(T){case 3:case 1:p++,E=y();break;case 5:case 12:E=y();break;case 13:E=d?y():" ";break;case 6:E=" ";break;case 10:if(6===w){E="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===w||13===w?E=" ":5!==w&&17!==w&&(b=!0);break;case 16:b=!0}!d||12!==w&&13!==w||(E=y())}C(E,O,v.getTokenOffset()+i),T=w}return A}function c(e,r){for(var t="",n=0;n<r;n++)t+=e;return t}function s(e,r){return-1!=="\r\n".indexOf(e.charAt(r))}function u(r,t,n){void 0===t&&(t=[]),void 0===n&&(n=e.DEFAULT);var o={type:"array",offset:-1,length:-1,children:[],parent:void 0};function a(e){"property"===o.type&&(o.length=e-o.offset,o=o.parent)}function i(e){return o.children.push(e),e}h(r,{onObjectBegin:function(e){o=i({type:"object",offset:e,length:-1,parent:o,children:[]})},onObjectProperty:function(e,r,t){(o=i({type:"property",offset:r,length:-1,parent:o,children:[]})).children.push({type:"string",value:e,offset:r,length:t,parent:o})},onObjectEnd:function(e,r){a(e+r),o.length=e+r-o.offset,o=o.parent,a(e+r)},onArrayBegin:function(e,r){o=i({type:"array",offset:e,length:-1,parent:o,children:[]})},onArrayEnd:function(e,r){o.length=e+r-o.offset,o=o.parent,a(e+r)},onLiteralValue:function(e,r,t){i({type:g(e),offset:r,length:t,parent:o,value:e}),a(r+t)},onSeparator:function(e,r,t){"property"===o.type&&(":"===e?o.colonOffset=r:","===e&&a(r))},onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},n);var f=o.children[0];return f&&delete f.parent,f}function l(e,r){if(e){for(var t=e,n=0,o=r;n<o.length;n++){var a=o[n];if("string"==typeof a){if("object"!==t.type||!Array.isArray(t.children))return;for(var i=!1,f=0,c=t.children;f<c.length;f++){var s=c[f];if(Array.isArray(s.children)&&s.children[0].value===a){t=s.children[1],i=!0;break}}if(!i)return}else{var u=a;if("array"!==t.type||u<0||!Array.isArray(t.children)||u>=t.children.length)return;t=t.children[u]}}return t}}function h(r,t,o){void 0===o&&(o=e.DEFAULT);var a=n(r,!1);function i(e){return e?function(){return e(a.getTokenOffset(),a.getTokenLength(),a.getTokenStartLine(),a.getTokenStartCharacter())}:function(){return!0}}function f(e){return e?function(r){return e(r,a.getTokenOffset(),a.getTokenLength(),a.getTokenStartLine(),a.getTokenStartCharacter())}:function(){return!0}}var c=i(t.onObjectBegin),s=f(t.onObjectProperty),u=i(t.onObjectEnd),l=i(t.onArrayBegin),h=i(t.onArrayEnd),g=f(t.onLiteralValue),d=f(t.onSeparator),p=i(t.onComment),v=f(t.onError),b=o&&o.disallowComments,y=o&&o.allowTrailingComma;function k(){for(;;){var e=a.scan();switch(a.getTokenError()){case 4:A(14);break;case 5:A(15);break;case 3:A(13);break;case 1:b||A(11);break;case 2:A(12);break;case 6:A(16)}switch(e){case 12:case 13:b?A(10):p();break;case 16:A(1);break;case 15:case 14:break;default:return e}}}function A(e,r,t){if(void 0===r&&(r=[]),void 0===t&&(t=[]),v(e),r.length+t.length>0)for(var n=a.getToken();17!==n;){if(-1!==r.indexOf(n)){k();break}if(-1!==t.indexOf(n))break;n=k()}}function C(e){var r=a.getTokenValue();return e?g(r):s(r),k(),!0}return k(),17===a.getToken()?!!o.allowEmptyContent||(A(4,[],[]),!1):function e(){switch(a.getToken()){case 3:return function(){l(),k();for(var r=!1;4!==a.getToken()&&17!==a.getToken();){if(5===a.getToken()){if(r||A(4,[],[]),d(","),k(),4===a.getToken()&&y)break}else r&&A(6,[],[]);e()||A(4,[],[4,5]),r=!0}return h(),4!==a.getToken()?A(8,[4],[]):k(),!0}();case 1:return function(){c(),k();for(var r=!1;2!==a.getToken()&&17!==a.getToken();){if(5===a.getToken()){if(r||A(4,[],[]),d(","),k(),2===a.getToken()&&y)break}else r&&A(6,[],[]);(10!==a.getToken()?(A(3,[],[2,5]),0):(C(!1),6===a.getToken()?(d(":"),k(),e()||A(4,[],[2,5])):A(5,[],[2,5]),1))||A(4,[],[2,5]),r=!0}return u(),2!==a.getToken()?A(7,[2],[]):k(),!0}();case 10:return C(!0);default:return function(){switch(a.getToken()){case 11:var e=a.getTokenValue(),r=Number(e);isNaN(r)&&(A(2),r=0),g(r);break;case 7:g(null);break;case 8:g(!0);break;case 9:g(!1);break;default:return!1}return k(),!0}()}}()?(17!==a.getToken()&&A(9,[],[]),!0):(A(4,[],[]),!1)}function g(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":return e?Array.isArray(e)?"array":"object":"null";default:return"null"}}function d(e,r,t){if(!t.formattingOptions)return[r];var n=p(e,r),o=r.offset,a=r.offset+r.content.length;if(0===r.length||0===r.content.length){for(;o>0&&!s(n,o-1);)o--;for(;a<n.length&&!s(n,a);)a++}for(var i=f(n,{offset:o,length:a-o},t.formattingOptions),c=i.length-1;c>=0;c--){var u=i[c];n=p(n,u),o=Math.min(o,u.offset),a=Math.max(a,u.offset+u.length),a+=u.content.length-u.length}return[{offset:o,length:e.length-(n.length-a)-o,content:n.substring(o,a)}]}function p(e,r){return e.substring(0,r.offset)+r.content+e.substring(r.offset+r.length)}r.r(t),r.d(t,{applyEdits:()=>x,createScanner:()=>v,findNodeAtLocation:()=>A,findNodeAtOffset:()=>C,format:()=>S,getLocation:()=>b,getNodePath:()=>T,getNodeValue:()=>m,modify:()=>j,parse:()=>y,parseTree:()=>k,printParseErrorCode:()=>E,stripComments:()=>w,visit:()=>O}),function(e){e.DEFAULT={allowTrailingComma:!1}}(e||(e={}));var v=n,b=function(e,r){var t=[],n=new Object,o=void 0,a={value:{},offset:0,length:0,type:"object",parent:void 0},i=!1;function f(e,r,t,n){a.value=e,a.offset=r,a.length=t,a.type=n,a.colonOffset=void 0,o=a}try{h(e,{onObjectBegin:function(e,a){if(r<=e)throw n;o=void 0,i=r>e,t.push("")},onObjectProperty:function(e,o,a){if(r<o)throw n;if(f(e,o,a,"property"),t[t.length-1]=e,r<=o+a)throw n},onObjectEnd:function(e,a){if(r<=e)throw n;o=void 0,t.pop()},onArrayBegin:function(e,a){if(r<=e)throw n;o=void 0,t.push(0)},onArrayEnd:function(e,a){if(r<=e)throw n;o=void 0,t.pop()},onLiteralValue:function(e,t,o){if(r<t)throw n;if(f(e,t,o,g(e)),r<=t+o)throw n},onSeparator:function(e,a,f){if(r<=a)throw n;if(":"===e&&o&&"property"===o.type)o.colonOffset=a,i=!1,o=void 0;else if(","===e){var c=t[t.length-1];"number"==typeof c?t[t.length-1]=c+1:(i=!0,t[t.length-1]=""),o=void 0}}})}catch(e){if(e!==n)throw e}return{path:t,previousNode:o,isAtPropertyKey:i,matches:function(e){for(var r=0,n=0;r<e.length&&n<t.length;n++)if(e[r]===t[n]||"*"===e[r])r++;else if("**"!==e[r])return!1;return r===e.length}}},y=function(r,t,n){void 0===t&&(t=[]),void 0===n&&(n=e.DEFAULT);var o=null,a=[],i=[];function f(e){Array.isArray(a)?a.push(e):null!==o&&(a[o]=e)}return h(r,{onObjectBegin:function(){var e={};f(e),i.push(a),a=e,o=null},onObjectProperty:function(e){o=e},onObjectEnd:function(){a=i.pop()},onArrayBegin:function(){var e=[];f(e),i.push(a),a=e,o=null},onArrayEnd:function(){a=i.pop()},onLiteralValue:f,onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},n),a[0]},k=u,A=l,C=function e(r,t,n){if(void 0===n&&(n=!1),function(e,r,t){return void 0===t&&(t=!1),r>=e.offset&&r<e.offset+e.length||t&&r===e.offset+e.length}(r,t,n)){var o=r.children;if(Array.isArray(o))for(var a=0;a<o.length&&o[a].offset<=t;a++){var i=e(o[a],t,n);if(i)return i}return r}},T=function e(r){if(!r.parent||!r.parent.children)return[];var t=e(r.parent);if("property"===r.parent.type){var n=r.parent.children[0].value;t.push(n)}else if("array"===r.parent.type){var o=r.parent.children.indexOf(r);-1!==o&&t.push(o)}return t},m=function e(r){switch(r.type){case"array":return r.children.map(e);case"object":for(var t=Object.create(null),n=0,o=r.children;n<o.length;n++){var a=o[n],i=a.children[1];i&&(t[a.children[0].value]=e(i))}return t;case"null":case"string":case"number":case"boolean":return r.value;default:return}},O=h,w=function(e,r){var t,o,a=n(e),i=[],f=0;do{switch(o=a.getPosition(),t=a.scan()){case 12:case 13:case 17:f!==o&&i.push(e.substring(f,o)),void 0!==r&&i.push(a.getTokenValue().replace(/[^\r\n]/g,r)),f=a.getPosition()}}while(17!==t);return i.join("")};function E(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function S(e,r,t){return f(e,r,t)}function j(e,r,t,n){return function(e,r,t,n){for(var o,a=r.slice(),i=u(e,[]),f=void 0,c=void 0;a.length>0&&(c=a.pop(),void 0===(f=l(i,a))&&void 0!==t);)"string"==typeof c?((o={})[c]=t,t=o):t=[t];if(f){if("object"===f.type&&"string"==typeof c&&Array.isArray(f.children)){var s=l(f,[c]);if(void 0!==s){if(void 0===t){if(!s.parent)throw new Error("Malformed AST");var h=f.children.indexOf(s.parent),g=void 0,p=s.parent.offset+s.parent.length;return h>0?g=(m=f.children[h-1]).offset+m.length:(g=f.offset+1,f.children.length>1&&(p=f.children[1].offset)),d(e,{offset:g,length:p-g,content:""},n)}return d(e,{offset:s.offset,length:s.length,content:JSON.stringify(t)},n)}if(void 0===t)return[];var v=JSON.stringify(c)+": "+JSON.stringify(t),b=void 0;return d(e,b=(O=n.getInsertionIndex?n.getInsertionIndex(f.children.map((function(e){return e.children[0].value}))):f.children.length)>0?{offset:(m=f.children[O-1]).offset+m.length,length:0,content:","+v}:0===f.children.length?{offset:f.offset+1,length:0,content:v}:{offset:f.offset+1,length:0,content:v+","},n)}if("array"===f.type&&"number"==typeof c&&Array.isArray(f.children)){var y=c;if(-1===y)return v=""+JSON.stringify(t),b=void 0,d(e,b=0===f.children.length?{offset:f.offset+1,length:0,content:v}:{offset:(m=f.children[f.children.length-1]).offset+m.length,length:0,content:","+v},n);if(void 0===t&&f.children.length>=0){var k=c,A=f.children[k];if(b=void 0,1===f.children.length)b={offset:f.offset+1,length:f.length-2,content:""};else if(f.children.length-1===k){var C=(m=f.children[k-1]).offset+m.length;b={offset:C,length:f.offset+f.length-2-C,content:""}}else b={offset:A.offset,length:f.children[k+1].offset-A.offset,content:""};return d(e,b,n)}if(void 0!==t){if(b=void 0,v=""+JSON.stringify(t),!n.isArrayInsertion&&f.children.length>c){var T=f.children[c];b={offset:T.offset,length:T.length,content:v}}else if(0===f.children.length||0===c)b={offset:f.offset+1,length:0,content:0===f.children.length?v:v+","};else{var m,O=c>f.children.length?f.children.length:c;b={offset:(m=f.children[O-1]).offset+m.length,length:0,content:","+v}}return d(e,b,n)}throw new Error("Can not "+(void 0===t?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+y+" as length is not sufficient")}throw new Error("Can not add "+("number"!=typeof c?"index":"property")+" to parent of type "+f.type)}if(void 0===t)throw new Error("Can not delete in empty document");return d(e,{offset:i?i.offset:0,length:i?i.length:0,content:JSON.stringify(t)},n)}(e,r,t,n)}function x(e,r){for(var t=r.length-1;t>=0;t--)e=p(e,r[t]);return e}module.exports=t})();
//# sourceMappingURL=jsonc-parser.js.map